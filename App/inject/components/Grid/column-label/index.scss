$column-identifier-border-size: $grid-border-size;
$column-identifier-border-color: $grid-border-color;
$column-identifier-border-opacity: $grid-border-opacity;

.#{$carbonPrefix}--grid {
    
    // column hover identifier
    [class*="#{$carbonPrefix}--col"] {
        $padding: carbon--mini-units(1);
        $height: carbon--mini-units(4) - ($padding * 2);

        position: relative;
        
        // border base
        &::after {
            content: '';
            display: block;
            height: 100%;
            width: 100%;
            left: 0;
            top: 0;
            position: absolute;
            min-height: $height + ($padding * 2);
            z-index: 999;
            pointer-events: none;
            opacity: 1;
            transition: box-shadow $transition-fade, opacity $transition-fade;
        }
        
        .#{$prefix}--label-column {
            pointer-events: none;
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
            
            &::before {
                pointer-events: none;
                z-index: 999;
                position: sticky;
                top: 0;
                display: block;
                float: left;
                height: 0;
                overflow: hidden;
                opacity: 1;
                transition: height $transition-fade, padding $transition-fade, opacity $transition-fade;

                @include carbon--type-style('code-01');
                @include carbon--font-family('mono');

                background: rgba($column-identifier-border-color, 1);
                color: $text-04;
                padding: 0 ($carbon--grid-gutter / 2);
                
                .#{$prefix}--header & {
                    top: carbon--mini-units(6);
                }
            }
        }

        // label transition
        .#{$prefix}--grid--hover &:hover {
            .#{$prefix}--label-column::before {
                height: $height;
                padding-top: $padding;
                padding-bottom: $padding;
            }
        }

        .#{$prefix}--grid--hide &:hover {
            .#{$prefix}--label-column::before {
                height: 0;
                padding: 0;
            }
        }

        // hide label on click
        .#{$prefix}--grid--hide-label-column &,
        .#{$prefix}--grid--hide &,
        html:active &,
        body:active & {
            &::after,
            .#{$prefix}--label-column::before {
                opacity: 0;
            }
        }
    }

    // border definition
    .#{$prefix}--grid--hover & {
        [class*="bx--col"]:hover::after {
            box-shadow: inset 0 0 0 $column-identifier-border-size rgba($column-identifier-border-color, $column-identifier-border-opacity);
        }
    }

    .#{$prefix}--grid--hide & {
        [class*="bx--col"]:hover::after {
            box-shadow: none;
        }
    }

    // label content
    .#{$carbonPrefix}--col {
        
        .#{$prefix}--label-column::before { content: '.#{$carbonPrefix}--col'; }
        
        @each $size, $breakpoint in $carbon--grid-breakpoints {
            @include carbon--breakpoint($size) {
                &-#{$size} {
                    @for $i from 1 through map-get($breakpoint, 'columns') {
                        &-#{$i} .#{$prefix}--label-column::before { content: '.#{$carbonPrefix}--col-#{$size}-#{$i}'; }
                    }
                }
            }
        }
    }
}